import ROOT as rt
import numpy as np
import plotfactory as pf
import sys
from pdb import set_trace
from os.path import normpath, basename
####################################################################################################
indir = '/afs/cern.ch/work/v/vstampf/plots/recontuple/'
####################################################################################################
ntdr = basename(normpath(ver))
####################################################################################################
fin = rt.TFile(indir+ver+'HNLTreeProducer/tree.root')
####################################################################################################
t = fin.Get('tree')
####################################################################################################
pf.setpfstyle()
####################################################################################################
####################################################################################################
####################################################################################################
c_dr_recos = rt.TCanvas('dr_recos','dr_recos')
c_deta_recos = rt.TCanvas('deta_recos','deta_recos')
c_dphi_recos = rt.TCanvas('dphi_recos','dphi_recos')
c_dr_gen_reco = rt.TCanvas('gen_reco','gen_reco')
####################################################################################################
####################################################################################################
clist = [c_dr_recos,c_deta_recos,c_dphi_recos,c_dr_gen_reco]
####################################################################################################
####################################################################################################
c_dr_recos.cd()
h_dr_recos.Draw()
####################################################################################################
c_dr_recos_bar.cd()
h_dr_recos_bar.Draw()
####################################################################################################
c_dr_recos_cap.cd()
h_dr_recos_cap.Draw()
####################################################################################################
####################################################################################################
c_dr_recos.cd()
h_dr_recos.Draw()
####################################################################################################
####################################################################################################
c_dphi_recos.cd()
h_dphi_recos.Draw()
####################################################################################################
####################################################################################################
c_deta_recos.cd()
h_deta_recos.Draw()
####################################################################################################
####################################################################################################
c_dr_gen_reco.cd()
h_dr_smu.Draw()
h_dr_dsmu.Draw('same')
c_dr_gen_reco.BuildLegend()
pf.showlogoprelimsim('CMS')
c_dr_gen_reco.Modified()
c_dr_gen_reco.Update()
c_dr_gen_reco.SaveAs(outdir+c_dr_gen_reco.GetTitle()+'_'+ntdr+'.root')
c_dr_gen_reco.SaveAs(outdir+c_dr_gen_reco.GetTitle()+'_'+ntdr+'.png')
####################################################################################################
####################################################################################################
for c in clist:
    c.cd()
    pf.showlogoprelimsim('CMS')
#    rt.gStyle.SetOptStat()
    c.Modified()
    c.Update()
#    c.SaveAs(outdir+c.GetTitle()+'_'+ntdr+'.root')
#    c.SaveAs(outdir+c.GetTitle()+'_'+ntdr+'.png')
